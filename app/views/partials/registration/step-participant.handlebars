<div class="container">
  <div class="row">

    <!--formulaire d'inscription block-->
    <div class="col-12 bg-light shadow" id="divForm">

      <!-- titre -->
      <div class="row">
        <div class="col-11 mx-auto mt-3">
          <div class="row">
            <div class="col-12 bg-white shadow">
              <h1 class="d-block mt-5 mb-5 text-lowercase text-center">
                Votre inscription - {{results.event.name}}
              </h1>
            </div>
          </div>
        </div>
      </div>

      <!--formulaire d'inscription-->
      <form id="participant-form" class="" method="POST" action="/inscription/{{results.id}}/participant/post">

        <div class="row my-5">
          <div class="col-11 mx-auto bg-white shadow rounded p-3">
            <div class="row">

              <!-- nav participant -->
              <div class="col-12">
                <!-- header participant -->
                <div class="row">
                  <div class="col-12">
                    <span class="d-block mt-2 mb-2">
                      <strong class="text-muted">
                        Participant
                      </strong>
                    </span>                      
                  </div>
                </div>
              <!-- participant form -->
              <div class="row">
                <div class="col-11 mx-auto">
                  <div class="row">
                    <div class="col-sm-3 mt-2">
                      <div class="form-group">
                        <label>Nom *</label>
                      </div>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control input-participant-validation" placeholder="Nom"
                          name="surname"
                          value="{{#if results.participant.nom}}{{results.participant.nom}}{{else}}{{user.surname}}{{/if}}
                          "
                          required>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3 mt-2">
                      <div class="form-group">
                        <label>Prénom *</label>
                      </div>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control input-participant-validation"
                          placeholder="Prénom"
                          name="name"
                          value="{{#if results.participant.prenom}}{{results.participant.prenom}}{{else}}{{user.name}}{{/if}}
                          "
                          required>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3 mt-2">
                      <div class="form-group">
                        <label>Email *</label>
                      </div>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <input
                          type="email"
                          class="form-control input-participant-validation"
                          placeholder="Email"
                          name="email"
                          value="{{#if results.participant.email}}{{results.participant.email}}{{else}}{{user.email}}{{/if}}"
                          required>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3 mt-2">
                      <div class="form-group">
                        <label>Téléphone *</label>
                      </div>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control input-participant-validation"
                          placeholder="téléphone: 06-00-00-00-00"
                          name="phone"
                          value="{{#if results.participant.phone}}{{results.participant.phone}}{{else}}{{user.phone}}{{/if}}"
                          required>
                      </div>
                    </div>
                  </div>                    
                  <div class="row">
                    <div class="col-sm-3 mt-2">
                      <div class="form-group">
                        <label>Genre *</label>
                      </div>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <select class="form-control input-participant-validation" name="sex" id="sex" required>
                          <option
                            value="{{#if results.participant.sex}}{{results.participant.sex}}{{else}}{{user.sex}}{{/if}}"
                            selected>
                            {{#if results.participant.sex}}
                              {{results.participant.sex}}
                            {{else}}
                              {{user.sex}}
                            {{/if}}
                          </option>
                          <option value="Homme">Homme</option>
                          <option value="Femme">Femme</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3 mt-2">
                      <div class="form-group">
                        <label>Date de naissance (jour/mois/année) *</label>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="form-group">
                        <select
                          class="form-control input-participant-validation" name="jourNaissance" id="jourNaissance" required>
                          <option
                            value="{{#if results.participant.dateNaissance}}{{userDateDay results.participant.dateNaissance}}{{else}}{{birthday.jour}}{{/if}}"
                            selected>
                            {{#if results.participant.dateNaissance}}{{userDateDay results.participant.dateNaissance}}{{else}}{{birthday.jour}}{{/if}}
                          </option>
                          {{#each date_list.day}}
                            <option value="{{this.value}}">{{this.value}}</option>
                          {{/each}}
                        </select>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="form-group">
                        <select class="form-control input-participant-validation" name="moisNaissance" id="moisNaissance" required>
                          <option
                            value="{{#if results.participant.dateNaissance}}{{userDateMonth results.participant.dateNaissance}}{{else}}{{birthday.mois}}{{/if}}"
                            selected>
                            {{#if results.participant.dateNaissance}}{{userDateMonth results.participant.dateNaissance}}{{else}}{{birthday.mois}}{{/if}}
                          </option>
                          {{#each date_list.month}}
                            <option value="{{this.value}}">{{this.value}}</option>
                          {{/each}}
                        </select>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="form-group">
                        <input
                          class="form-control input-participant-validation"
                          type="number"
                          placeholder="2018"
                          min="1900"
                          step="1"
                          value="{{#if results.participant.dateNaissance}}{{userDateYear results.participant.dateNaissance}}{{else}}{{birthday.annee}}{{/if}}"
                          name="anneeNaissance"
                          required>
                      </div>
                    </div>                      
                  </div>

                  <!-- information -->
                  <div class="row border border right-0 border-left-0 border-bottom-0">
                    <div class="col-12 mt-3 mb-3">
                      <strong>
                        Informations
                      </strong>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-3">
                      <label>Team / Club</label>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control"
                          placeholder="Team / Club"
                          name="team"
                          value="{{#if results.participant.team}}{{results.participant.team}}{{else}}{{user.team}}{{/if}}">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-3">
                      <label>N° de licence</label>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control"
                          placeholder="#Numéro de License"
                          name="numLicence"
                          value="{{#if results.participant.numLicence}}{{results.participant.numLicence}}{{else}}{{user.numLicence}}{{/if}}">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-3">
                      <label for="categorie">Catégorie *</label>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <select class="form-control input-participant-validation" name="categorie" id="categorie" required>
                          <option
                            value="{{#if results.participant.categorie}}{{results.participant.categorie}}{{else}}{{user.categorie}}{{/if}}"
                            selected>
                            {{#if results.participant.categorie}}{{results.participant.categorie}}{{else}}{{user.categorie}}{{/if}}
                          </option>
                          {{#each category_list}}
                            <option value="{{this.short}} - {{this.name}}">{{this.short}} - {{this.name}}</option>
                          {{/each}}
                        </select>
                      </div>
                    </div>
                  </div>

                  <!-- adresse -->
                  <div class="row border border right-0 border-left-0 border-bottom-0">
                    <div class="col-12 mt-3 mb-3">
                      <strong>
                        Adresse
                      </strong>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3">
                      <label>Adresse ligne 1 *</label>
                    </div>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control input-participant-validation"
                          placeholder="ex: 9 rue Albert Camus"
                          name="adresse1"
                          value="{{#if results.participant.adresse1}}{{results.participant.adresse1}}{{else}}{{user.adresse1}}{{/if}}"
                          required>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3">
                      <label>Adresse ligne 2</label>
                    </div>
                    <div class="col-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control"
                          placeholder="ex: Appt 103"
                          name="adresse2"
                          value="{{#if results.participant.adresse2}}{{results.participant.adresse2}}{{else}}{{user.adresse2}}{{/if}}">
                      </div>                        
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3">
                      <label>Code postal *</label>
                    </div>
                    <div class="col-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control input-participant-validation"
                          placeholder="ex: 56300"
                          name="codePostal"
                          value="{{#if results.participant.codePostal}}{{results.participant.codePostal}}{{else}}{{user.codePostal}}{{/if}}"
                          required>
                      </div>                        
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3">
                      <label>Ville *</label>
                    </div>
                    <div class="col-9">
                      <div class="form-group">
                        <input
                          type="text"
                          class="form-control input-participant-validation"
                          placeholder="ex: Pontivy"
                          name="city"
                          value="{{#if results.participant.city}}{{results.participant.city}}{{else}}{{user.city}}{{/if}}"
                          required>
                      </div>                        
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-11 mx-auto">
          <!-- user helper  -->
          <div class="row" id="participant-validation-warning">
            <div class="col-11 mx-auto mt-3 alert alert-warning">
              <p class="">
                Pour continuer votre inscription, vérifiez :
              </p>
              <ul>
                <li>- que les champs obligatoires signalés avec "*" sont correctement complétés</li>
              </ul>                 
            </div>
          </div>

          <div class="row">
            <div class="col-6 mb-5 text-center">
              <a class="btn btn-outline-primary" href="/event/{{results.event.id}}">Détails de l'évènement</a>
            </div>
            <div class="col-6 text-center">
              <button type="submit" class="btn btn-secondary">Valider<i class="fa fa-arrow-right ml-2" aria-hidden="true"></i></button>
            </div>
          </div>             
        </div>
      </div>
    </form>
  </div>
</div>
<input type="hidden" value="{{results.event.date_cloture_inscription}}" name="dateLimite">
